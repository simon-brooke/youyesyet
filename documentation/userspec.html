<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>YouYesYet: User-oriented specification</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Youyesyet</span> <span class="project-version">0.2.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="authorisation.html"><div class="inner"><span>Security and authorisation</span></div></a></li><li class="depth-1 "><a href="competitors.html"><div class="inner"><span>Competitor Analysis</span></div></a></li><li class="depth-1 "><a href="database.html"><div class="inner"><span>Database Specification</span></div></a></li><li class="depth-1 "><a href="scaling.html"><div class="inner"><span>YouYesYet: Scaling</span></div></a></li><li class="depth-1  current"><a href="userspec.html"><div class="inner"><span>YouYesYet: User-oriented specification</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>youyesyet</span></div></div></li><li class="depth-2 branch"><a href="youyesyet.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>db</span></div></div></li><li class="depth-3"><a href="youyesyet.db.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.handler.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>handler</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.locality.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>locality</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.oauth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oauth</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.outqueue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>outqueue</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></div></li><li class="depth-3 branch"><a href="youyesyet.routes.auto.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auto</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.auto-json.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auto-json</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.home.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>home</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.issue-experts.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>issue-experts</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.logged-in.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>logged-in</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.manual.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>manual</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.oauth.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oauth</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.rest.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rest</span></div></a></li><li class="depth-3 branch"><a href="youyesyet.routes.roles.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>roles</span></div></a></li><li class="depth-3"><a href="youyesyet.routes.services.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>services</span></div></a></li><li class="depth-2 branch"><a href="youyesyet.utils.html"><div class="inner"><span class="tree" style="top: -331px;"><span class="top" style="height: 340px;"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-2"><a href="youyesyet.validation.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>validation</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#youyesyet-user-oriented-specification" name="youyesyet-user-oriented-specification"></a>YouYesYet: User-oriented specification</h1>
<h2><a href="#overview" name="overview"></a>Overview</h2>
<p>YouYesYet is a proposed web-app intended to simplify the collection of canvas data from voters, specifically for the upcoming Scottish Independence referendum; it is intended that it should later be adaptable for other canvassing campaigns, but that is a much lower priority.</p>
<h2><a href="#general-principles" name="general-principles"></a>General Principles</h2>
<p>The objective of this is to produce something untrained users can use on a mobile phone on the doorstep on a cold wet night, with potentially intermittent network connectivity.</p>
<p>The client side of tha app will be built as a single page app using <a href="https://github.com/Day8/re-frame">re-frame</a>. The reason for using a single page, HTML5 app is that additional content does not need to be downloaded on the fly in order to render pages. It should be possible to develop separate Android and iPhone native apps addressing the same back end, but those are not part of the present project. Note that there are still potential issues with intermittent connectivity e.g. for mapping, but elector data should be downloaded in geographical blocks in order that the user doesn’t have to wait on the doorstep of a house for data to download.</p>
<h2><a href="#classes-of-users" name="classes-of-users"></a>Classes of Users</h2>
<h3><a href="#canvassers" name="canvassers"></a>Canvassers</h3>
<p>From the point of view of the application, a <em>Canvasser</em> is a user who ‘cold calls’ electors, either by knocking on doors or by telephoning them. All authorised users are deemed to be canvassers.</p>
<h3><a href="#issue-experts" name="issue-experts"></a>Issue Experts</h3>
<p>An <em>Issue Expert</em> is a person who is well versed on a particular issue likely to be of concern to electors.</p>
<p>It’s my hope that we’d have enough Issue Experts sitting in the comfort of their own homes on a typical canvassing evening that we can get followup phone calls or emails happening within a few minutes of the canvasser calling, so it’s still fresh in the elector’s mind.</p>
<h3><a href="#analysts" name="analysts"></a>Analysts</h3>
<p><em>Canvassers</em> are able to see voter canvas data for the streets immediately around where they are working. They must be able to do so, because otherwise they cannot effectively canvas. But we must assume that sooner or later a hostile person will join the system as a canvasser, so canvassers should not have access to wider canvas data. Therefore we need a category of trusted user who can view wider maps of where canvas data has been collected, in order to be able to direct teams of canvassers to areas where it has not been collected. For want of a better word I’ll call these <em>Analysts</em>.</p>
<h3><a href="#administrators" name="administrators"></a>Administrators</h3>
<p>An <em>Administrator</em> has access to a full range of back end functions which are not yet fully thought through, but in particular, can</p>
<ul>
  <li>Lock user accounts</li>
  <li>Authorise Issue Experts</li>
  <li>Create new issues</li>
</ul>
<h2><a href="#creating-an-account" name="creating-an-account"></a>Creating an account</h2>
<p>A potential user who does not have a login should be able to create an account. However, not just anybody should be able to create an account, because there is the risk that opponents might register as users and deliberately pollute the database with bad data. Therefore to create an account a user must have an introduction from an existing user - an ‘Invite my friends’ feature of the system should mail out to invitees a token, registered to a particular email address, which allows an account to be created. With that token, creating an account should be simple.</p>
<p>My preference is not to store even encrypted passwords of users, but to rely entirely on oauth. This may not be possible but it’s worth a try.</p>
<p>So a potential user, who has a token, should be presented with a form in which they are invited to pick a username, supply their real name and phone number, and choose an oauth provider from those we support. They also need to agree to conditions of use. We already have their email address because we know what email address the invitation token was sent to; a confirmation email is sent to this address and the account is not enabled until a link from that email is clicked.</p>
<p>Each user record shall contain a field indicating the inviter. Thus, if a user is suspected of acting for the opposition, administrators can see not only who invited that user to join the system, but also which other users have been invited by that user.</p>
<pre><code>+------------------------------------------------+
| Welcome to YouYesYet                           |
|                                                |
| Choose a username:         [________________]  |
| Tell us your real name:    [________________]  |
| Tell us your phone number: [________________]  |
| Choose an authentication                       |
|     provider:              [Twitter________v]  |
| Agree to the conditions                        |
|     of use:                [I don't agree  v]  |
|                                                |
|                            [Join us!]          |
+------------------------------------------------+
</code></pre>
<h2><a href="#logging-in" name="logging-in"></a>Logging in</h2>
<p>The login screen is very simple: all the user needs enter is their username; they are then directed to their chosen oauth provider to be authenticated.</p>
<h2><a href="#after-login" name="after-login"></a>After login</h2>
<p>After successful login, a <em>Canvasser</em> will be presented with the <em>Map View</em>, see below. All other classes of user will be presented with a menu of their user classes, including the <em>Canvasser</em> user class. Selecting the <em>Canvasser</em> user class will direct them to the <em>Map View</em>. Selecting other user classes will direct to menus of the options available to those user classes.</p>
<p>Note that:</p>
<ol>
  <li>Only the views available to canvassers form part of the one-page app, since it’s assumed that when acting as other user classes the user will have reliable network connectivity;</li>
  <li>For much the same reason, canvasser views will generally be adapted for use on a mobile phone screen; admin and analyst views may not be.</li>
</ol>
<h2><a href="#map-view" name="map-view"></a>Map View</h2>
<p>The map view shows a map of the streets immediately around their current location, overlaid, on dwellings where canvas has already been done, with icons indicating the voting preference expressed, and with the dwellings where canvassing is still required marked with an icon indicating this:</p>
<p><img src="https://raw.githubusercontent.com/simon-brooke/youyesyet/master/dummies/mapview.png" alt="Map View" /></p>
<p>Selecting a building on the map leads to</p>
<ol>
  <li>On buildings with multiple flats, the <em>Building View</em>;</li>
  <li>On buildings with only one dwelling, the <em>Electors View</em>.</li>
</ol>
<h2><a href="#building-view" name="building-view"></a>Building View</h2>
<p>A list of dwellings in a building.</p>
<p><img src="https://raw.githubusercontent.com/simon-brooke/youyesyet/master/dummies/building.png" alt="Building View" /></p>
<p>Selecting a flat from this view leads to the <em>Electors View</em>.</p>
<h2><a href="#electors-view" name="electors-view"></a>Electors View</h2>
<p>The <em>Electors View</em> shows a schematic of the registered electors in a dwelling:</p>
<p><img src="https://raw.githubusercontent.com/simon-brooke/youyesyet/master/dummies/occupants.png" alt="Electors View" /></p>
<p>One figure is shown for each elector, labelled with their name. In the dummy pages I’ve shown gendered stick figures, because I believe that in many casesthis will help the canvasser identify the person who has answered the door; but this may be seen as excluding electors with non-binary gender, and, in any case, I believe we don’t actually get gender data (other than salutation) in the electoral roll data. So this may have to be reconsidered.</p>
<p>Below the figure are:</p>
<ol>
  <li>One clear ‘voting intention’ button for each option (e.g., ‘Yes’, ‘No’), greyed unless selected;</li>
  <li>One issues button.</li>
</ol>
<p>Selecting an option icon records that the elector represented by the figure has expressed an intention that they will vote for that option. Selecting the issues icon brings up and issues view.</p>
<h2><a href="#issues-view" name="issues-view"></a>Issues View</h2>
<p>The <em>Issues View</em> is a simple list of issues:</p>
<pre><code>+------------------------------------------------+
| YouYesYet: Issues                         [&lt;-] |
|                                                |
| Currency                                       |
| EU Membership                                  |
| Can Scotland afford it?                        |
| Keep the Queen?                                |
| Defence/NATO                                   |
| Other                                          |
+------------------------------------------------+
</code></pre>
<p><img src="https://raw.githubusercontent.com/simon-brooke/youyesyet/master/dummies/issues.png" alt="Issues View" /></p>
<p>This list will not be hard-coded but will be dynamic; thus, if we find an issue we didn’t predict is regularly coming up on the doorstep an <em>Administrator</em> can add it to the list.</p>
<p>Selecting the back button from the <em>Issues View</em> returns to the <em>Electors View</em>. Selecting any option from the Issues view leads to the <em>Issue View</em>.</p>
<h2><a href="#issue-view" name="issue-view"></a>Issue View</h2>
<p>A single page giving top level points the canvasser can make to the elector on the doorstep, regarding the selected issue; and a link to a <em>Followup Request</em> form. There is also a ‘back’ button allowing the user to return to the <em>Issues View</em>.</p>
<p><img src="https://raw.githubusercontent.com/simon-brooke/youyesyet/master/dummies/issue.png" alt="Issue View" /></p>
<h2><a href="#followup-request-form" name="followup-request-form"></a>Followup Request form</h2>
<p>The <em>Followup Request</em> form is a simple form which allows the canvasser to record a followup request. The elector and the issue are already known from the route taken to reach the form, so don’t have to be filled in by the user. In case of followup by post (we mail them out a leaflet on the issue) the address is also known. If the elector chooses followup by telephone or by email, the canvasser will be prompted for the telephone number or email address respectively.</p>
<pre><code>+------------------------------------------------+
| YouYesYet: Request Followup               [&lt;-] |
|                                                |
| Elector:            Archie Bell                |
| Issue:              Currency                   |
| Followup by:        [ Telephone         v]     |
| Telephone Number:   [                    ]     |
|                                                |
|                     [ Request Followup!  ]     |
|                                                |
+------------------------------------------------+
</code></pre>
<p><img src="https://raw.githubusercontent.com/simon-brooke/youyesyet/master/dummies/followup.png" alt="Followup Request Form" /></p>
<h2><a href="#how-street-canvassers-will-use-the-system" name="how-street-canvassers-will-use-the-system"></a>How Street Canvassers will use the system</h2>
<p>Street Canvassers will typically use the system by</p>
<ol>
  <li>Arriving in an area, often with a group of other canvassers;</li>
  <li>Logging into the system;</li>
  <li>Looking at the map view and choosing an uncanvassed dwelling to canvas;</li>
  <li>Opening the Electors View for that dwelling;</li>
  <li>Chapping the door;</li>
  <li>Asking the person who answers about voting intentions, and recording these be selecting the appropriate option buttons;</li>
  <li>Addressing any issues the elector raises directly, if possible;</li>
  <li>If there are more detailed issues the elector wants to address, raising a followup request;</li>
  <li>Making a polite goodbye;</li>
  <li>Returning to the map view and choosing the next dwelling to canvas.</li>
</ol>
<h2><a href="#telephone-canvassing" name="telephone-canvassing"></a>Telephone canvassing</h2>
<p>We also need a workflow for telephone canvassing, but I have not yet given thought to how that would work.</p>
<h2><a href="#followup-requests-view" name="followup-requests-view"></a>Followup Requests view</h2>
<p>This view is available only to Issue Experts, and is the first view and Issue Expert sees after aelecting <em>Issue Expert</em> from the roles menu.</p>
<p>After a canvasser has spoken with an elector, the canvasser may tag the elector with a followup request on an issue. An issue expert will have access to a screen showing all unclosed followup requests for those issues for which he or she is considered an expert. The expert may pick one from the screen, phone or email the elector to discuss the issue, and then either mark the request as closed or add a note for a further followup later.</p>
<pre><code>+-------------------------------------------------------------------------------+
| YouYesYet: Unclosed Followup Requests on Currency                             |
|                                                                               |
|  | Name        | Canvasser   | Canvassed   | Followup by | Contact Detail  |  |
|  +-------------+-------------+-------------+-------------+-----------------+  |
|  | Archie Bell | Betty Black | 12-Dec-2016 | Telephone   | 01312345678     |  |
|  | Carol Craig | Donald Dunn | 12-Dec-2016 | eMail       | carol@gmail.com |  |
</code></pre>
<p>Picking a Followup Request from this list should result in it being temporarily removed from all other Issue Expert’s views, and open the <em>Followup Action</em> view.</p>
<h2><a href="#followup-action-view" name="followup-action-view"></a>Followup Action view</h2>
<p>The <em>Followup Action</em> view shows the name and contact detail of the elector, with the same voting intention buttons as on the <em>Electors View</em>; a toggle to mark this requst closed; a text area to enter any notes; a ‘back’ button which returns to the <em>Followup Requests</em> view; and a list of any previous followup actions on this request with any notes made on them.</p>
<p>Below this on the page is a <em>Wiki section</em> which contains links to resources which may be useful in addressing the elector’s concerns.</p>
<h2><a href="#wiki" name="wiki"></a>Wiki</h2>
<p>As specified above, the <em>Followup Action</em> view contains a section which functions as a Wiki page. This may incorporate links to further Wiki pages, or to resources out on the wider Internet. Issue Experts are entitled to edit Wiki pages within the system.</p>
<p>Note that the <em>Issue View</em> in the Canvassers’ user interface is a special Wiki page, which can also be edited by the relevant issue experts.</p>
<h2><a href="#gamification-and-scores" name="gamification-and-scores"></a>Gamification and ‘Scores’</h2>
<p>Reading up on Bernie Saunders’ campaign’s canvassing app, it apparently contained gamification features which were seen as significantly motivational for younger canvassers. Canvassers should be able to see a screen which shows</p>
<ol>
  <li>Total time logged in;</li>
  <li>Total visits made;</li>
  <li>Total voting intentions recorded;</li>
  <li>Number of visits made per hour logged in;</li>
  <li>Number of voting intentions recorded per hour logged in.</li>
</ol>
<p>I’d like a way for local canvassing teams to be able to see one another’s scores, so as to encourage friendly competition, but I haven’t yet defined a mechanism for how that might be done. I think a national high-score table would probably be a bad thing, because it might encourage people to create fictional records without actually talking to the electors.</p></div></div></div></body></html>